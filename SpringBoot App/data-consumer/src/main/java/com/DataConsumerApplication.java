package com;

import org.apache.commons.lang.StringEscapeUtils;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.scheduling.annotation.EnableScheduling;

@SpringBootApplication
@EnableScheduling
public class DataConsumerApplication {

    public static void main(String[] args) {

//        String b= "{\n \"type\": \"bundle\",\n \"id\": \"bundle--f3893115-6678-4e75-8d3f-16e96ebd7773\",\n \"objects\": [\n {\n \"type\": \"malware\",\n \"spec_version\": \"2.1\",\n \"id\": \"malware--34ecc8f6-1a5e-4157-9959-df5328e8d3dc\",\n \"created\": \"2022-04-09T14:50:19.919259Z\",\n \"modified\": \"2022-04-09T14:50:19.919259Z\",\n \"name\": \"bluenoroffs\",\n \"is_family\": false\n },\n {\n \"type\": \"infrastructure\",\n \"spec_version\": \"2.1\",\n \"id\": \"infrastructure--01bb6627-27fa-4096-8b2e-3d698198a909\",\n \"created\": \"2022-04-09T14:50:19.919876Z\",\n \"modified\": \"2022-04-09T14:50:19.919876Z\",\n \"name\": \"viewer\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--80c0fc86-3f6d-40dd-a2c4-199ea02612fb\",\n \"created\": \"2022-04-09T14:50:19.922521Z\",\n \"modified\": \"2022-04-09T14:50:19.922521Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--34ecc8f6-1a5e-4157-9959-df5328e8d3dc\",\n \"target_ref\": \"infrastructure--01bb6627-27fa-4096-8b2e-3d698198a909\"\n },\n {\n \"type\": \"attack-pattern\",\n \"spec_version\": \"2.1\",\n \"id\": \"attack-pattern--c4a315d5-0651-46d8-8315-eeb037d652ca\",\n \"created\": \"2022-04-09T14:50:19.920358Z\",\n \"modified\": \"2022-04-09T14:50:19.920358Z\",\n \"name\": \"social media accounts\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--e9d682c1-93c4-4f24-8ea9-c7794d092f96\",\n \"created\": \"2022-04-09T14:50:19.922765Z\",\n \"modified\": \"2022-04-09T14:50:19.922765Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--34ecc8f6-1a5e-4157-9959-df5328e8d3dc\",\n \"target_ref\": \"attack-pattern--c4a315d5-0651-46d8-8315-eeb037d652ca\"\n },\n {\n \"type\": \"identity\",\n \"spec_version\": \"2.1\",\n \"id\": \"identity--0b8960d4-5a82-4818-8678-c0c57a319b97\",\n \"created\": \"2022-04-09T14:50:19.920207Z\",\n \"modified\": \"2022-04-09T14:50:19.920207Z\",\n \"name\": \"microsoft office\"\n },\n {\n \"type\": \"attack-pattern\",\n \"spec_version\": \"2.1\",\n \"id\": \"attack-pattern--607fcca7-7ffd-4b05-864c-b2a65f603635\",\n \"created\": \"2022-04-09T14:50:19.92117Z\",\n \"modified\": \"2022-04-09T14:50:19.92117Z\",\n \"name\": \"automatic execution of a remote script\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--18cf40b5-b0ec-404d-a941-149b7d886c55\",\n \"created\": \"2022-04-09T14:50:19.92302Z\",\n \"modified\": \"2022-04-09T14:50:19.92302Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"identity--0b8960d4-5a82-4818-8678-c0c57a319b97\",\n \"target_ref\": \"attack-pattern--607fcca7-7ffd-4b05-864c-b2a65f603635\"\n },\n {\n \"type\": \"attack-pattern\",\n \"spec_version\": \"2.1\",\n \"id\": \"attack-pattern--4a381dd8-2a2c-4bb0-aee4-72e6a0b5e74a\",\n \"created\": \"2022-04-09T14:50:19.92131Z\",\n \"modified\": \"2022-04-09T14:50:19.92131Z\",\n \"name\": \"fetching remote content\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--3335d304-368d-415e-9059-db42d02ed124\",\n \"created\": \"2022-04-09T14:50:19.923306Z\",\n \"modified\": \"2022-04-09T14:50:19.923306Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"identity--0b8960d4-5a82-4818-8678-c0c57a319b97\",\n \"target_ref\": \"attack-pattern--4a381dd8-2a2c-4bb0-aee4-72e6a0b5e74a\"\n },\n {\n \"type\": \"malware\",\n \"spec_version\": \"2.1\",\n \"id\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"created\": \"2022-04-09T14:50:19.92082Z\",\n \"modified\": \"2022-04-09T14:50:19.92082Z\",\n \"name\": \"bluenoroff\",\n \"is_family\": false\n },\n {\n \"type\": \"malware\",\n \"spec_version\": \"2.1\",\n \"id\": \"malware--b4e2a5e7-0d89-44f3-a611-e35a927447f8\",\n \"created\": \"2022-04-09T14:50:19.920995Z\",\n \"modified\": \"2022-04-09T14:50:19.920995Z\",\n \"name\": \"cve217199\",\n \"is_family\": false\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--1115b619-43df-474b-b942-6803e1654218\",\n \"created\": \"2022-04-09T14:50:19.923623Z\",\n \"modified\": \"2022-04-09T14:50:19.923623Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"target_ref\": \"malware--b4e2a5e7-0d89-44f3-a611-e35a927447f8\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--38f0d5ae-3bb9-4af2-b7cb-f5b48b1e4aac\",\n \"created\": \"2022-04-09T14:50:19.923972Z\",\n \"modified\": \"2022-04-09T14:50:19.923972Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"target_ref\": \"attack-pattern--607fcca7-7ffd-4b05-864c-b2a65f603635\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--7afde835-7b1f-4ecb-b878-a0021be6298d\",\n \"created\": \"2022-04-09T14:50:19.924298Z\",\n \"modified\": \"2022-04-09T14:50:19.924298Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"target_ref\": \"attack-pattern--4a381dd8-2a2c-4bb0-aee4-72e6a0b5e74a\"\n },\n {\n \"type\": \"infrastructure\",\n \"spec_version\": \"2.1\",\n \"id\": \"infrastructure--9f1c9604-17e1-427b-b6e3-637697768ee4\",\n \"created\": \"2022-04-09T14:50:19.92207Z\",\n \"modified\": \"2022-04-09T14:50:19.92207Z\",\n \"name\": \"vba macro does a cleanup by removing the binary objects and the reference to the remote template from the original document\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--3cf5a439-ddc8-4329-9554-43ab9b9f5983\",\n \"created\": \"2022-04-09T14:50:19.924633Z\",\n \"modified\": \"2022-04-09T14:50:19.924633Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"target_ref\": \"infrastructure--9f1c9604-17e1-427b-b6e3-637697768ee4\"\n },\n {\n \"type\": \"attack-pattern\",\n \"spec_version\": \"2.1\",\n \"id\": \"attack-pattern--c99c076b-776b-4d82-a0b5-d81c2196c976\",\n \"created\": \"2022-04-09T14:50:19.922226Z\",\n \"modified\": \"2022-04-09T14:50:19.922226Z\",\n \"name\": \"saving it to the same file\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--1648851a-0b0d-4c29-b920-6accd40fa306\",\n \"created\": \"2022-04-09T14:50:19.924994Z\",\n \"modified\": \"2022-04-09T14:50:19.924994Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"target_ref\": \"attack-pattern--c99c076b-776b-4d82-a0b5-d81c2196c976\"\n },\n {\n \"type\": \"attack-pattern\",\n \"spec_version\": \"2.1\",\n \"id\": \"attack-pattern--ee810f23-3439-479c-9612-9e5953392e97\",\n \"created\": \"2022-04-09T14:50:19.922366Z\",\n \"modified\": \"2022-04-09T14:50:19.922366Z\",\n \"name\": \"deweaponizes the document\"\n },\n {\n \"type\": \"relationship\",\n \"spec_version\": \"2.1\",\n \"id\": \"relationship--b3cd64de-04d8-4ccc-a5a5-73aeb28728d0\",\n \"created\": \"2022-04-09T14:50:19.925373Z\",\n \"modified\": \"2022-04-09T14:50:19.925373Z\",\n \"relationship_type\": \"USES\",\n \"source_ref\": \"malware--03b9b220-c54d-4aad-8822-ad6d1a5d397e\",\n \"target_ref\": \"attack-pattern--ee810f23-3439-479c-9612-9e5953392e97\"\n }\n ]\n}";
//        b= StringEscapeUtils.unescapeJava(b);
//        if (b.charAt(0) == '"')
//            b=b.substring(1, b.length()-1);
//        System.out.println(b);

        SpringApplication.run(DataConsumerApplication.class, args);
    }

}
